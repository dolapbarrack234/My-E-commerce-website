<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Login / Signup - My E-Shop</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <header>
        <h1>ðŸ›’ My E-Shop</h1>
        <nav>
            <a href="index.html">Home</a>
            <a href="shop.html">Shop</a>
            <a href="cart.html">Cart (<span id="cart-count">0</span>)</a>
            <a href="orders.html">My Orders</a>
            <a href="login.html" id="auth-link">Login</a>
        </nav>
    </header>

    <main class="auth">
        <div class="form-container" id="login-box">
            <!-- Login Form -->
            <h2>Login</h2>
            <form onsubmit="login(event)">
                <input type="email" id="login-email" placeholder="Email" required>
                <input type="password" id="login-password" placeholder="Password" required>
                <button type="submit">Login</button>
            </form>
            <p>Donâ€™t have an account? <a href="#" onclick="showSignup()">Sign Up</a></p>
        </div>

        <div class="form-container" id="signup-box" style="display:none;">
            <!-- Signup Form -->
            <h2>Sign Up</h2>
            <form onsubmit="signup(event)">
                <input type="text" id="signup-name" placeholder="Full Name" required>
                <input type="email" id="signup-email" placeholder="Email" required>
                <input type="password" id="signup-password" placeholder="Password" required>
                <button type="submit">Sign Up</button>
            </form>
            <p>Already have an account? <a href="#" onclick="showLogin()">Login</a></p>
        </div>
    </main>

    <script src="script.js"></script>
    <script>
        // Handle login/logout display
        const currentUser = JSON.parse(localStorage.getItem("currentUser"));
        const authLink = document.getElementById("auth-link");

        if (currentUser && authLink) {
            authLink.textContent = `Logout (${currentUser.name})`;
            authLink.href = "#";
            authLink.onclick = function () {
                logout();
            };
        }
    </script>
</body>
</html>